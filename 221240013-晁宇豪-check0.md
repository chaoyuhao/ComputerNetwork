
# 实验0报告

## github仓库地址
- https://github.com/chaoyuhao/ComputerNetwork

## telnet使用

这部分按照实验手册做就完事了，唯一的难点就是为了申请smtp服务，qq邮箱的一堆验证，以及qq邮箱的验证虽然是一堆乱码，但居然不是base64编码的，需要我再编码一遍

## 实现t_webget

这一部分就是复制之前对telnet的使用，需要注意的是调试之前一定要先用telnet试试是不是自己的网真有问题。。。

还有一个重点就是接受字符串，它可能不会一次性发全，需要我们不断地去读，直到EOF。

代码很短，直接贴上来了。

```C++
void get_URL( const string& host, const string& path )
{
  TCPSocket t_socket;
  Address addr(host, "http");
  t_socket.connect(addr);
  t_socket.write("GET " + path + " HTTP/1.1\r\n");
  t_socket.write("Host: " + host + "\r\n");
  t_socket.write("Connection: close\r\n");
  t_socket.write("\r\n");
  std::string buffer, recive;
  while(buffer.empty()) {
    t_socket.read(buffer);
  }
  while(!buffer.empty()) {
    recive = recive + buffer;
    t_socket.read(buffer);
  }
  cout << recive;
}
```

## 实现ByteStream

我使用了一个定长的循环数组，数组使用`std::vector`在构造函数里确定长度，实现了这个ByteStream，受限于真实的使用场景，我们可以用两个`uint64_t`去记录写入读出数据的量，然后关于数组是否为空以及其他相关const函数的实现都可以非常简单的通过这俩数的四则运算得出。传输速度0.55Gbit/s。

写得不够“现代”，但是好像比用了`std::deque`的兄弟们快了不少，lol